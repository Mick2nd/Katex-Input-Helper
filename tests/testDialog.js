class TestDialog{baseLocation="";parser=null;localizer=null;constructor(a){this.baseLocation=a}async initialize(){this.setBaseLocation(),this.parser=new ParserExtension(!0),this.localizer=new Localizer,await this.localizer.initialiseLanguageChoice("en_US"),this.parseOptions("#menu a",$.fn.menubutton),this.parseOptions(".easyui-dialog",$.fn.dialog),this.localize(),$("#myContainer").layout({fit:!0}),await this.parser.parseAsync(".easyui-dialog")}parseOptions(a,t){$(a).each((function(){var a={};try{var e=$(this).attr("data-options"),i=e.replace(/(\w+)\:(.*?)(\,?)/g,'"$1":$2$3').replaceAll("'",'"');console.debug(`parseOptions : translated string : ${i} `),a=JSON.parse("{"+i+"}")}catch(a){console.warn(`Error parsing data-options : ${e}, ${a} `)}t.bind($(this))(a)}))}localize(){var a=this;$("span[locate]").each((function(){var t=$(this).attr("locate"),e=a.localizer.getLocalText(t);$(this).html(e)}))}setBaseLocation(){return $("html > head").append($("<base />")),$("html > head > base").attr("href",this.baseLocation),location}}