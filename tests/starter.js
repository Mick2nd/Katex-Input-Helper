class BootLoader{baseLocation=null;withModules=!0;app=null;constructor(){}async promisify(e,...s){return new Promise((function(t,a){try{function i(){var e=`Promise check: ${s} `;console.debug(e),t("Success")}e===setTimeout?setTimeout((function(){i()}),...s):e(...s,(function(){i()}))}catch(o){console.error(`Error occurred: ${o} `),a(o)}}))}async usingAsync(e){return this.promisify(easyloader.load.bind(easyloader),e)}async readyAsync(){var e=$(document);return this.promisify(e.ready.bind(e))}async setTimeoutAsync(e){return this.promisify(setTimeout,e)}async initScripts(){var e=this.getBaseLocation();this.baseLocation=e,e+="js/jquery-easyui/",easyloader.base=e,easyloader.css=!0;var s=this.withModules?["../jquery-easyui-MathEditorExtend/themes/aguas/easyui.css","../jquery-easyui-MathEditorExtend/themes/icon.css","../../../tests/testDialog.css"]:["../jquery-easyui/themes/default/easyui.css","../jquery-easyui/themes/icon.css","../jquery-easyui-MathEditorExtend/themes/aguas/easyui.css","../jquery-easyui-MathEditorExtend/themes/icon.css","../jquery-easyui/themes/aguas/easyui.css","../../../tests/testDialog.css"];for(var t of s)await this.usingAsync(t);if(await this.usingAsync("../jquery-easyui/jquery.min.js"),this.withModules)for(var a of(easyloader.theme="default",["layout","panel","window","dialog","linkbutton","menubutton"]))await this.usingAsync(a);else await this.usingAsync("../jquery-easyui/jquery.easyui.min.js");for(var i of["../patterns/observable.js","../localization.js","../parserExtension.js","../../../tests/testDialog.js"])await this.usingAsync(i)}async initApp(){try{this.app=new TestDialog(this.baseLocation),window.app=this.app,await this.app.initialize()}finally{}}async init1(){for(var e=50;!this.presenceCheck(e)&&--e>=0;)await this.setTimeoutAsync(100);console.info(`jquery loaded : ${typeof $} `),await this.readyAsync(),console.debug("Promise check : document ready."),await this.initApp(),console.debug("Promise check : app started."),this.check()}async init2(){for(var e=0;("object"!=typeof easyloader||!document.currentScript)&&++e<=50;)await this.setTimeoutAsync(100);if(e>50)throw Error("easyloader not loaded");console.info(`easyloader loaded : ${typeof easyloader} `),await this.initScripts(),console.debug("Promise check : scripts loaded."),await this.readyAsync(),console.debug("Promise check : document ready."),await this.initApp(),console.debug("Promise check : app started."),this.check()}getBaseLocation(){return document.currentScript.src.split("/").slice(0,-2).join("/").replace(/ /g,"%20").replace("file:///","file://").replace("file://","file:///")+"/assets/"}presenceCheck(e){var s="Test",t=function(e,t,a){s=a;var i="function"===e;return i||console.warn(`Type check failed : ${e} : ${a}`),i}(typeof $,0,"jquery");if(!t&&e<=0)throw Error(`${s} not loaded`);return t}check(){for(var e of["html","head","body","#myContainer",".easyui-layout"])$(e).each((function(){console.debug(`Element check : ${$(this).prop("tagName")} : ${$(this).attr("id")} `)}))}fatal(e){alert(`The Katex Input Helper could not be opened properly, \n(${e}). \nPlease close it and open it again!`)}}var kihBootLoader=new BootLoader;kihBootLoader.init2().then((()=>{kihBootLoader.check()})).catch((e=>{console.error(`Error ${e} `,e),kihBootLoader.fatal(e)}));